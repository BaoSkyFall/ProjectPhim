<div class="card">
  <div class="card-header">
    Quản Lý Phim
  </div>
  <div class="card-body">
    <button type="button" #btnmodal class="btn btn-secondary mr-3" (click)="Change()" data-toggle="modal" data-target="#exampleModal">
      Thêm Phim Mới
    </button>
    <button class="btn btn-danger">Xóa Nhiều Phim</button>
    <br>
    <button class="btn btn-primary mt-3">Tìm Kiếm Phim</button>
    <!-- Button trigger modal -->


    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form #formThemphim="ngForm" (ngSubmit)="ThemPhim(formThemphim.value,hinhAnh.files)">
              <h4 class="display-4" id="title-modal">Thêm Phim </h4>
              <div class="form-group">
                <label for="">Tên Phim: </label>
                <input type="text" [(ngModel)]="Phim_temp.TenPhim" class="form-control" ngModel name="TenPhim">
              </div>
              <div class="form-group">
                <label for="">Trailer: </label>
                <input type="text" [(ngModel)]="Phim_temp.Trailer" class="form-control" ngModel name="Trailer">
              </div>
              <div class="form-group">
                <label for="">Hình Ảnh: </label>
                <input type="file" [(ngModel)]="Phim_temp.HinhAnh" class="form-control" #hinhAnh ngModel name="HinhAnh">
              </div>
              <div class="form-group">
                <label for="">Mô Tả: </label>
                <textarea rows="4" [(ngModel)]="Phim_temp.MoTa" class="form-control" ngModel name="MoTa" cols="30">
                </textarea>
              </div>
              <div class="form-group">
                <label for="">Mã Nhóm: </label>
                <select name="" class="form-control" [(ngModel)]="Phim_temp.MaNhom" ngModel name="MaNhom" id="">
                  <option value="GP01">GP01</option>
                  <option value="GP02">GP02</option>
                  <option value="GP03">GP03</option>
                  <option value="GP04">GP04</option>
                  <option value="GP05">GP05</option>
                  <option value="GP06">GP06</option>
                </select>
              </div>
              <div class="form-group">
                <label for="">Ngày Khởi Chiếu: </label>
                <input type="text" class="form-control" [(ngModel)]="Phim_temp.NgayKhoiChieu" ngModel name="NgayKhoiChieu">
              </div>
              <div class="form-group">
                <label for="">Đánh Giá: </label>
                <input type="text" class="form-control" [(ngModel)]="Phim_temp.DanhGia" ngModel name="DanhGia">
              </div>
              <div class="form-group">
                <button class="btn btn-success form-control" id="btn-modal" type="submit">Thêm Phim</button>
                <button type="button" class="h2 btn btn-secondary form-control" data-dismiss="modal">Đóng</button>
              </div>
            </form>
          </div>
          <div class="modal-footer">

          </div>
        </div>
      </div>
    </div>
    <div class="input-group w-50 mt-3">
      <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
      <div class="input-group-append">
        <button class="btn btn-primary" type="button">
          <i class="fa fa-search"></i>
        </button>
      </div>
    </div>
  </div>
</div>



<div class="card mb-3">
  <div class="card-header">
    <i class="fa fa-user"></i>
    Dữ Liệu Người Dùng</div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
        <thead>
          <tr>
            <th></th>
            <th>Mã Phim</th>
            <th>Tên Phim</th>
            <th>Trailer</th>
            <th>Hình Ảnh</th>
            <th>Mô Tả</th>
            <th>Mã Nhóm</th>
            <th>Mã Nhóm</th>
            <th>Đánh Giá</th>
            <th>Ngày Khởi Chiếu </th>

          </tr>
        </thead>
        <!-- <tfoot>
          <tr>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Age</th>
            <th>Start date</th>
            <th>Salary</th>
          </tr>
        </tfoot> -->
        <tbody *ngFor="let item of DS_Phim">
          <th>
            <input type="checkbox">
          </th>
          <th>{{item.MaPhim}}</th>
          <th>{{item.TenPhim}}</th>
          <th>
            <iframe width="400" height="200" [src]="item.Trailer|safe" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>


          </th>
          <th>
            <img class="" style="max-width:145px!important" [src]="item.HinhAnh" alt="">
          </th>
          <th>{{item.MoTa}}</th>
          <th>{{item.MaNhom}}</th>
          <th>{{item.NgayKhoiChieu}}</th>
          <th>{{item.DanhGia}}</th>
          <button class="btn btn-danger" (click)="XoaPhim(item.MaPhim)">Xóa</button>
          <button class="btn btn-primary"
           [attr.data-maphim]="item.MaPhim" 
          [attr.data-tenphim]="item.TenPhim" 
          [attr.data-trailer]="item.Trailer"
            [attr.data-hinhanh]="item.HinhAnh" 
            [attr.data-mota]="item.MoTa" 
            [attr.data-manhom]="item.MaNhom"
             [attr.data-danhgia]="item.DanhGia"
            [attr.data-ngaykhoichieu]="item.NgayKhoiChieu" 
            (click)="btnmodal.click()"
            
            (click)="SuaPhim($event)" 
            >Sửa</button>

        </tbody>

      </table>
    </div>
  </div>
  <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
</div>
<div class="row">
  <div class="col-5 mx-auto">


  </div>
</div>




<!-- <div class="container">
  <table class="table">
    <tr>
      <th></th>
      <th>Mã Phim</th>
      <th>Tên Phim</th>
      <th>Trailer</th>
      <th>Hình Ảnh</th>
      <th>Mô Tả</th>
      <th>Mã Nhóm</th>
      <th>Ngày Khởi Chiếu</th>
      <th>Đánh Giá</th>
    </tr>
    <tbody *ngFor="let item of DS_Phim">
      <th>
        <input type="checkbox">
      </th>
      <th>{{item.MaPhim}}</th>
      <th>{{item.TenPhim}}</th>
      <th>
          <iframe width="400" height="200" [src]="item.Trailer|safe" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        
        
        </th>
      <th>
        <img class=""[src]="item.HinhAnh" alt="">
    </th>
      <th>{{item.MoTa}}</th>
      <th>{{item.MaNhom}}</th>
      <th>{{item.NgayKhoiChieu}}</th>
      <th>{{item.DanhGia}}</th>
      <button class="btn btn-danger" (click)="XoaPhim(item.MaPhim)">Xóa</button>
      <button class="btn btn-primary">Sửa</button>
    </tbody>
  </table>
</div> -->